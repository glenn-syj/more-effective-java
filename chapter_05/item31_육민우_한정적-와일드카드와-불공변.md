# ν•μ •μ  μ™€μΌλ“μΉ΄λ“μ™€ λ¶κ³µλ³€



## item31 - ν•μ •μ  μ™€μΌλ“μΉ΄λ“λ¥Ό μ‚¬μ©ν•΄ API μ μ—°μ„±μ„ λ†’μ΄λΌ

### π” λ‚΄μ© μ”μ•½

μ•„μ΄ν… 28κ³Ό μ΄μ–΄μ§€λ” λ‚΄μ©μΌλ΅ λ§¤κ°λ³€μν™” νƒ€μ…μ€ λ¶κ³µλ³€μ΄λ‹¤. μ¦‰, μ„λ΅ λ‹¤λ¥Έ νƒ€μ… Type1, Type2κ°€ μμ„ λ• `List<Type1>`μ€ `List<Type2>`μ ν•μ„ νƒ€μ…λ„ μƒμ„ νƒ€μ…λ„ μ•„λ‹λ‹¤. 
μ§κ΄€μ μ΄μ§€ μ•κ² μ§€λ§ `List<String>`μ€ `List<Object>`μ ν•μ„ νƒ€μ…μ΄ μ•„λ‹λΌλ” λ»μΈλ°, μ΄λ¬ν• λ¶κ³µλ³€μ νΉμ§•μ΄ APIλ¥Ό μ μ—°ν•μ§€ λ»ν•κ² λ§λ“¤ μ μλ‹¤. 
κµμ¬ p181μ μ½”λ“μ²λΌ μ λ„¤λ¦­μ„ μ‚¬μ©ν•΄ ν΄λμ¤μ™€ λ©”μ„λ“λ¥Ό μ„ μ–Έν•  κ²½μ° μ»΄νμΌμ€ μ λμ§€λ§ μ™„λ²½ν•μ§„ μ•λ‹¤. 
ν•΄λ‹Ή ν΄λμ¤μ™€ λ©”μ„λ“λ¥Ό μ‚¬μ©ν•  κ²½μ° ν•μ„ νƒ€μ…μ— λ€ν•΄μ„λ„ μ‘λ™ν•μ§€ μ•μ„κΉ ν•λ” λ…Όλ¦¬μ  μ¤λ¥λ¥Ό λ²”ν•  μ μκΈ° λ•λ¬Έμ΄λ‹¤. 
μ΄λ¬ν• μ μ—°ν•μ§€ λ»ν• λ§¤κ°λ³€μν™” νƒ€μ…μ— λ€ν•΄ `ν•μ •μ  μ™€μΌλ“μΉ΄λ“ νƒ€μ…`μ΄λΌλ” νΉλ³„ν• λ§¤κ°λ³€μν™” νƒ€μ…μ„ μ‚¬μ©ν•  μ μκ³ , ν•μ •μ  μ™€μΌλ“μΉ΄λ“ νƒ€μ…μ„ ν†µν•΄ λ³΄λ‹¤ μ μ—°ν• APIλ¥Ό μ‘μ„±ν•  μ μλ‹¤. 

<br>

--------------------------------------------------

### π§ μ‹¬ν™” νƒκµ¬

ν•΄λ‹Ή μ•„μ΄ν…μ λ‚΄μ©μ„ μ „κ°ν•λ©΄μ„ p184μ— PECS(producer-extends, consumer-super)λΌλ” κ°λ…μ΄ λ“±μ¥ν–μΌλ©°, ν•μ •μ  μ™€μΌλ“μΉ΄λ“λ¥Ό μ‚¬μ©ν•  κ²½μ° λ”°λ¥΄λ” κ°λ…μ΄μ μ›μΉ™μΌλ΅ λ³΄μ€λ‹¤. 
μ΄λ² μ•„μ΄ν…μ—μ„ ν•μ •μ  μ™€μΌλ“μΉ΄λ“κ°€ μ–΄λ–¤ κ²½μ°μ— μ‚¬μ©ν•λ ¤κ³  μ΅΄μ¬ν•λ” κ²ƒμΈμ§€μ— λ€ν•΄ κ³ λ―Όν•΄λ³΄κ³  μ•μ•„λ³΄λ” κ²ƒμ„ μ‹¬ν™” νƒκµ¬μ μ£Όμ λ΅ μ„ μ •ν•μ€λ‹¤. 

ν•΄λ‹Ή μ•„μ΄ν…μ—μ„ μμ λ΅ μ†κ°ν• `pushAll`κ³Ό `popAll` λ©”μ„λ“λ¥Ό λ³΄λ©° Listλ‚ PriorityQueueμ—μ„ μ‚¬μ©ν•λ `addAll`μ΄λΌλ” λ©”μ„λ“κ°€ μƒκ°ν•μ„ μ–΄λ–»κ² μ„ μ–Έλμ—λ‚ ν™•μΈν•΄λ³΄μ•λ‹¤. 

```java

// Listμ—μ„ μ™€μΌλ“μΉ΄λ“λ¥Ό μ‚¬μ©ν• λ©”μ„λ“
boolean addAll(Collection<? extends E> c);
```

λ€ν‘μ μΌλ΅ μμ£Ό μ‚¬μ©ν•λ `addAll`μ—μ„ μ—­μ‹ ν•μ •μ  μ™€μΌλ“μΉ΄λ“λ¥Ό ν†µν•΄ λ§¤κ°λ³€μλ¥Ό λ°›κ³  μμ—λ‹¤. μ΄μ™Έμ—λ„ λ§¤κ°λ³€μλ¥Ό μ»¬λ ‰μ…μΌλ΅ λ°›λ” λ©”μ„λ“λ“¤μ€ `<?>`μ™€ κ°™μ€ μ™€μΌλ“μΉ΄λ“λ¥Ό μ λ„¤λ¦­μΌλ΅ μ‚¬μ©ν•κ³  μμ—λ”λ°, μμ λ¥Ό ν¬ν•¨ν•΄ κ³ λ ¤ν•΄λ΄¤μ„ λ• ν•μ •μ  μ™€μΌλ“μΉ΄λ“λ” μΌλ‹¨ ν•΄λ‹Ή ν΄λμ¤μ μ λ„¤λ¦­κ³Ό λ‹¤λ¥Έ μ λ„¤λ¦­ νƒ€μ…μ„ λ°›κ³ μ ν•  λ• μ‚¬μ©ν•λ‹¤λ” μ μ„ λκΌκ³ , λ¶κ³µλ³€μΌλ΅ μΈν• λ¶νΈν•¨μ„ ν•΄μ†μ‹μΌ λ°°μ—΄μ²λΌ κ³µλ³€μ μΌλ΅ μ‚¬μ©ν•λ ¤λ” μλ„κ°€ μλ‹¤λ” λλ‚μ΄ λ“¤μ—λ‹¤. Listμ κ²½μ°λ„ λ§¤κ°λ³€μν™” νƒ€μ… μμ²΄κ°€ μƒν•μ„ νƒ€μ… κ΄€κ³„μ— μμ„ κ²½μ°μ—λ” μ—°μ‚°μ— λ¬Έμ κ°€ μ—†λ‹¤κ³  μƒκ°ν•΄μ„ ν¨κ³Όμ μΈ ν•΄κ²°μ±…μΌλ΅ μƒκ°λλ‹¤. 

ν•μ •μ  μ™€μΌλ“μΉ΄λ“μ κ²½μ° λ³Έ μ•„μ΄ν…μ—μ„λ” `<? extends E>`μ™€ `<? super E>` λ‘ κ°€μ§€λ¥Ό μ†κ°ν–λ”λ° `<? extends E>`λ” Eμ ν•μ„ νƒ€μ…, `<? super E>`λ” Eμ μƒμ„ νƒ€μ…μ„ ν—μ©ν•λ‹¤λ” μλ―Έμ΄λ‹¤. (μμ‹  νƒ€μ… ν¬ν•¨) μ—¬κΈ°μ„ PECSμ PEκ°€ μƒμ‚°μ λ§¤κ°λ³€μμ—μ„ Extendsλ¥Ό μ‚¬μ©ν•κ³ , CSκ°€ μ†λΉ„μ λ§¤κ°λ³€μμ—μ„ Superλ¥Ό μ‚¬μ©ν•λΌλ” λ»μ΄λ‹¤. 

--------------------------------------------------

μ°Έκ³ μλ£

https://www.baeldung.com/java-generics-pecs <br>
https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super <br>

--------------------------------------------------

### π§  μ–΄λ ¤μ› λ μ 

- ν•„μμ ν•µμ‹¬ μ •λ¦¬ λ‚΄μ©μ²λΌ λ„λ¦¬ μ“°μΌ λΌμ΄λΈλ¬λ¦¬λ¥Ό μ‘μ„±ν•μ§€ μ•λ” κ°λ°μλΌλ©΄(μ‚¬μ©μ μ…μ¥μ κ°λ°μμ—κ²), ν•΄λ‹Ή κ°λ…μ΄ ν¬κ² μ¤‘μ”ν• μ§€μ— λ€ν• νλ‹¨μ΄ μ•„μ§μ€ μ–΄λ ¤μ› λ‹¤. 
- μƒμ‚°μμ™€ μ†λΉ„μμ κµ¬λ¶„μ΄ μ•½κ°„ ν—·κ°λ¦¬λ” λλ‚μ΄ μλ‹¤. 
